{% extends 'layout.html' %}

{% block title %}
  tweet list
{% endblock %}

{% block cover_page %}
{% comment %}cover slide{% endcomment %}
<div class="position-relative overflow-hidden p-3 p-md-5 m-md-3 text-center bg-light">
  <div class="col-md-5 p-lg-5 mx-auto my-5">
    <h1 class="display-4 fw-normal">Welcome to Blogee</h1>
    <p class="lead fw-normal">And an even wittier subheading to boot. Jumpstart your marketing efforts with this example based on Appleâ€™s marketing pages.</p>
    <a class="btn btn-warning mb-4 mt-4" href="{% url 'tweet_create' %}">Create a tweet</a>
  </div>
  <div class="product-device shadow-sm d-none d-md-block"></div>
  <div class="product-device product-device-2 shadow-sm d-none d-md-block"></div>
</div>
{% endblock %}

{% block content %}
  <div class="container">
    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
      {% for tweet in tweets %}
        <div class="col">
          <div class="card shadow-sm">
            {% if tweet.photo %}
              <img src="{{ tweet.photo.url }}" class="card-img" alt="Tweet Image" />
            {% endif %}

            <div class="card-body">
              <h5 class="card-title">{{ tweet.user.username }}</h5>
              <p class="card-text">{{ tweet.text }}</p>
              <div class="d-flex justify-content-between align-items-center">
                <div class="btn-group gap-2">
                  {% if tweet.user == user %}
                    <a href="{% url 'tweet_edit' tweet.id %}" class="btn btn-sm btn-outline-info">Edit</a>
                    <a href="{% url 'tweet_delete' tweet.id %}" class="btn btn-sm btn-outline-danger">Delete</a>
                  {% endif %}
                  {% comment %} <button type="button" class="btn btn-sm btn-outline-secondary">View</button>
                  <button type="button" class="btn btn-sm btn-outline-secondary">Edit</button> {% endcomment %}
                </div>
                <small class="text-muted">9 mins</small>
              </div>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
{% endblock %}
